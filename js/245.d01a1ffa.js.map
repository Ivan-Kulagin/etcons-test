{"version":3,"file":"js/245.d01a1ffa.js","mappings":"uHAIAA,EAAQ,EAAU,CAACC,EAAKC,KACpB,MAAMC,EAASF,EAAIG,WAAaH,EAChC,IAAK,MAAOI,EAAKC,KAAQJ,EACrBC,EAAOE,GAAOC,EAElB,OAAOH,CAAM,C,+hBC2DXI,GAAUC,EAAAA,EAAAA,IAAI,CAElBC,OAAQ,CAAEC,MAAO,KAAMC,UAAWC,EAAAA,GAAAA,YAI9BC,GAAkBL,EAAAA,EAAAA,IAAI,IAAIN,EAAMY,UAGhCC,GAAkBP,EAAAA,EAAAA,IAAIK,EAAgBH,OAGtCM,GAAqBC,EAAAA,EAAAA,KAAS,IAAMF,EAAgBL,OACpDQ,QAAOC,GAAQN,EAAgBH,MAAMU,SAASD,KAC/CE,KAAIF,GAAQA,EAAKG,UAIhBC,GAAcf,EAAAA,EAAAA,MAGpB,SAASgB,IACPjB,EAAQG,MAAMD,OAAOC,MAAQa,EAAYb,KAC3C,CAGA,SAASe,IACPF,EAAYb,MAAQ,GACpBc,GACF,C,imDC3FA,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,mCCCA,MAAMC,GAAWnB,EAAAA,EAAAA,MACXM,GAAUN,EAAAA,EAAAA,IAAI,CAClB,CAAEc,MAAO,OAAQM,OAAQ,QACzB,CAAEN,MAAO,OAAQM,OAAQ,QACzB,CAAEN,MAAO,WAAYM,OAAQ,YAC7B,CAAEN,MAAO,WAAYM,OAAQ,c,OAG/BC,EAAAA,EAAAA,KAAU,KAERC,EAAAA,EAAAA,cAA6BC,MAAMC,GAAUL,EAASjB,MAAQsB,GAAM,I,2FChBtE,MAAM,EAAc,EAEpB,O","sources":["webpack://etcons-it-test/./node_modules/vue-loader/dist/exportHelper.js","webpack://etcons-it-test/./src/components/DataTableSearch.vue","webpack://etcons-it-test/./src/components/DataTableSearch.vue?4a9d","webpack://etcons-it-test/./src/views/DataTableView.vue","webpack://etcons-it-test/./src/views/DataTableView.vue?ac4d"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\r\n  <div class=\"card mw-1200 mx-auto\">\r\n    <DataTable\r\n        :filters=\"filters\"\r\n        :value=\"data\"\r\n        tableStyle=\"min-width: 50rem\"\r\n        paginator\r\n        :rows=\"10\"\r\n        paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\r\n        :rowsPerPageOptions=\"[5,10,25]\"\r\n        currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} products\"\r\n        :globalFilterFields=\"globalFilterFields\"\r\n    >\r\n      <template #empty><span>No data found for the current search query</span></template>\r\n      <template #header>\r\n        <div class=\"d-flex\">\r\n          <div class=\"p-inputgroup w-80\">\r\n            <MultiSelect\r\n                dropdown-icon=\"pi pi-pw pi-sliders-v\"\r\n                v-model=\"selectedFilters\"\r\n                style=\"min-width: 48px;\"\r\n                :options=\"selectedColumns\"\r\n                optionLabel=\"header\"\r\n            />\r\n            <span class=\"p-input-icon-right\" style=\"width: 100%\">\r\n            <i class=\"pi pi-times\" @click=\"clearSearchField\" v-if=\"searchField\" />\r\n            <InputText\r\n                v-model=\"searchField\"\r\n                @keydown.enter=\"searchItems\"\r\n                placeholder=\"Поиск...\"\r\n                style=\"width: 100%\"\r\n            />\r\n          </span>\r\n            <Button label=\"Search\" @click=\"searchItems\" severity=\"info\" />\r\n          </div>\r\n          <div class=\"w-20\">\r\n            <MultiSelect\r\n                class=\"border-0\"\r\n                v-model=\"selectedColumns\"\r\n                :options=\"columns\"\r\n                optionLabel=\"header\"\r\n                :maxSelectedLabels=\"2\"\r\n                placeholder=\"Поля Таблицы\"\r\n                style=\"width: 100%\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <Column v-for=\"col of selectedColumns\" :key=\"col.field\" :field=\"col.field\" :header=\"col.header\"></Column>\r\n    </DataTable>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref, computed} from 'vue';\r\nimport { FilterMatchMode } from 'primevue/api';\r\nimport MultiSelect from \"primevue/multiselect\";\r\nimport InputText from \"primevue/inputtext\";\r\nimport Button from \"primevue/button\";\r\nimport DataTable from 'primevue/datatable';\r\nimport Column from 'primevue/column';\r\n\r\n// eslint-disable-next-line no-undef\r\nconst props = defineProps({\r\n  data: null,\r\n  columns: null\r\n})\r\n\r\nconst filters = ref({\r\n  // фильтр для таблицы, колонки определяются в globalFilterFields\r\n  global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n});\r\n\r\n// выбранные колонки для отображения в таблице, по умолчанию содержит все колонки таблицы\r\nconst selectedColumns = ref([...props.columns]);\r\n\r\n// выбранные фильтры для поиска по таблице\r\nconst selectedFilters = ref(selectedColumns.value);\r\n\r\n// определение допустимых фильтров таблицы, исключает возможный выбор выключенных колонок\r\nconst globalFilterFields = computed(() => selectedFilters.value\r\n    ?.filter(item => selectedColumns.value.includes(item))\r\n    .map(item => item.field)\r\n);\r\n\r\n// строка поиска\r\nconst searchField = ref();\r\n\r\n// применяет фильтр к таблице по строке поиска\r\nfunction searchItems() {\r\n  filters.value.global.value = searchField.value\r\n}\r\n\r\n// очищает строку поиска и сбрасывает результат предыдущего поиска\r\nfunction clearSearchField() {\r\n  searchField.value = ''\r\n  searchItems()\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.mx-auto {\r\n  margin: 0 auto;\r\n}\r\n.mw-1200 {\r\n  max-width: 1200px;\r\n}\r\n\r\n.d-flex {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.w-80 {\r\n  width: 80%\r\n}\r\n\r\n.w-20 {\r\n  width: 20%\r\n}\r\n\r\n.p-inputtext {\r\n  border-radius: 0 !important;\r\n}\r\n</style>\r\n","import script from \"./DataTableSearch.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DataTableSearch.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DataTableSearch.vue?vue&type=style&index=0&id=ee7cf5e2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\mrmem\\\\WebstormProjects\\\\etcons-it-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ee7cf5e2\"]])\n\nexport default __exports__","<template>\r\n  <DataTableSearch :data=\"products\" :columns=\"columns\" />\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted, ref} from \"vue\";\r\nimport { ProductService } from '@/service/ProductService';\r\nimport DataTableSearch from \"@/components/DataTableSearch.vue\";\r\n\r\nconst products = ref()\r\nconst columns = ref([\r\n  { field: 'code', header: 'Code' },\r\n  { field: 'name', header: 'Name' },\r\n  { field: 'category', header: 'Category' },\r\n  { field: 'quantity', header: 'Quantity' }\r\n]);\r\n\r\nonMounted(() => {\r\n  // получение данных\r\n  ProductService.getProducts().then((data) => (products.value = data));\r\n});\r\n</script>","import script from \"./DataTableView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DataTableView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","filters","ref","global","value","matchMode","FilterMatchMode","selectedColumns","columns","selectedFilters","globalFilterFields","computed","filter","item","includes","map","field","searchField","searchItems","clearSearchField","__exports__","products","header","onMounted","ProductService","then","data"],"sourceRoot":""}